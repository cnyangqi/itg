<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>JAVA语句使用指南</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<link href="/css/manual.css" rel="stylesheet" media="all" type="text/css">
</head>
<body id="manual-page">
<br>
<div id="page-content">
<div id="preamble">
    <h1><a id="#page-header">JAVA语句使用说明</a></h1>
    <div class="toplang"></div>
    <p> JAVA语句为在模板中引用JAVA语法提供了可能。JAVA语句由<b> &lt;% </b> 开始，<b> %> </b>结束标注。<br>
	<font color=red>不能在JAVA引用中进行类、接口、函数的定义，也不能使用import、package语句。</font>
	<br>
	
	在JAVA语句中可以直接嵌套正文标签和全局标签。
	</p>
	<h1><font color="red">JAVA语法</font></h1>
		<p>
		 &lt;%<br>
			  &nbsp;&nbsp;&nbsp;&nbsp;--在此写入JAVA语句 <br>
		 %>
		</p>

	<h1><font color="red">常用对象和方法</font></h1>
	 
    <p> 文章模板可以使用nps.compiler.ArticleClassBase中的属性和方法。页面模板可以使用nps.compiler.PageClassBase中的属性和方法。 
      详细参见以上类的java doc文件。<br>
	  常用变量有：
    <table class="related" cellspacing="0" cellpadding="0" border="1">
        <tbody>
            <tr>
                <th>变量名</th>
                <th>类型</th>
                <th>含义</th>
            </tr>
            <tr class="module">
                <td>ctxt</td>
                <td>NpsContext</td>
                <td>记录当前上下文情景，包括运行用户、数据库连接等资源。</td>
  			</tr>
            <tr class="module">
                
          <td>site</td>
          <td>Site</td>
          <td>当前页面或文章所在站点</td>
  			</tr>
			            <tr class="module">
                
          <td>top</td>
          <td>Topic</td>
          <td>当前页面或文章所在栏目</td>
  			</tr>
			            <tr class="module">
                
          <td>art</td>
          <td>Article</td>
                
          <td>当前文章对象，普通文章都是NormalArticle对象，自定义数据源文章都从CustomArticle派生。仅在文章模板中有效</td>
  			</tr>			
			 <tr class="module">

          <td>out</td>
          <td>JavaWriter</td>

          <td>使用print系列方法输出HTML流。<br>
            out.print(Object)表示在当前位置输出<br>
			out.printil(Object)表示对齐输出<br>
			out.println(Object)表示输出结束后换行。
		  </td>
  		</tr>
        <tr class="module">
             <td>print()</td>
             <td>函数</td>
             <td>应该尽量避免使用out.print()系列方法进行输出，而直接使用print()函数。<br>
               print(Object)表示在当前位置输出<br>
               printil(Object)表示对齐输出<br>
               println(Object)表示输出结束后换行。
               </td>
          </tr>
		</tbody>
	</table>	 
	 </p> 	 
	 
	 <h1><font color="red">样例代码</font></h1>
	<p>
     以下代码演示了如何在代码中仅输出偶数行。<br>
		   &lt;rs id="rs1" sql="select name,price from product"><br>
		   &lt;% <br>
			  &nbsp;&nbsp;&nbsp;&nbsp;
			  if((Integer)&lt;$rs1.rowno$>%2==0) <br>
			  &nbsp;&nbsp; &nbsp;&nbsp;
			  {  <br>
		   %><br>
			  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				  &lt;$rs1.name$>:&lt;$rs1.price$>  <br>
				  
		   &lt;% <br>
			   &nbsp;&nbsp;&nbsp;&nbsp;
			   } <br>
		   %> <br>
		   &lt;/rs>
		 </p>    
	  
</div>

</div>
</body>
</html>